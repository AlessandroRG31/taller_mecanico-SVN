{% extends "core/base.html" %}
{% load static %}

{% block title %}{{ view.object|default_if_none:"Nuevo" }} Repuesto{% endblock %}

{% block extra_head %}
  <script src="https://unpkg.com/lucide@latest"></script>
{% endblock %}

{% block content %}
<div class="container mt-5 fade-in-up">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-gradient text-white d-flex align-items-center justify-content-between" style="background: linear-gradient(90deg, #6a00ff, #a200ff);">
      <h4 class="mb-0 d-flex align-items-center gap-2">
        <i data-lucide="{{ view.object|yesno:'edit,plus' }}"></i>
        {{ view.object|yesno:"Editar,Nuevo" }} Repuesto
      </h4>
    </div>

    <div class="card-body">
      <form method="post" novalidate autocomplete="off">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-6 mb-3">
            {{ form.empresa.label_tag }} {{ form.empresa }}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.nombre.label_tag }} {{ form.nombre }}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.precio.label_tag }} {{ form.precio }}
          </div>
          <div class="col-md-6 mb-3">
            {{ form.stock.label_tag }} {{ form.stock }}
          </div>
        </div>

        <div class="mt-4">
          <button type="submit" class="btn btn-success me-2 d-inline-flex align-items-center gap-1">
            <i data-lucide="save"></i> Guardar
          </button>
          <a href="{% url 'repuestos:repuesto_list' %}" class="btn btn-secondary d-inline-flex align-items-center gap-1">
            <i data-lucide="x-circle"></i> Cancelar
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  lucide.createIcons();
</script>
{% endblock %}
